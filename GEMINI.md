### üìù Project Awareness & Context

-   **Always read `PLANNING.md`** at the start of a new conversation. This file is the single source of truth for the project's vision, features, and architecture.
-   **Always check `TASK.md`** before starting a new task to understand the immediate objective and its place in the project's timeline.
-   **Use consistent naming conventions and file structure** as defined in `PLANNING.md` and the existing project layout.

### üê¶ Flutter Workflow & Execution

This project is a standard Flutter application.

-   **Get Dependencies**: `flutter pub get`
-   **Run the App (Debug)**: `flutter run`
-   **Run Build Runner (for models)**: `flutter pub run build_runner build --delete-conflicting-outputs`
-   **Run Linter**: `flutter analyze`
-   **Build for Release**: `flutter build appbundle` or `flutter build ipa`

### üß± Code Structure & Modularity

-   **Adhere to the Directory Structure**:
    -   `lib/core/`: App-wide services (Supabase client, Theme, Utils). Not tied to any feature.
    -   `lib/data/`: The data layer.
        -   `models/`: Contains all data classes generated by `freezed`. These are the "nouns" of our app.
        -   `repositories/`: Contains classes that interact with the Supabase backend. These are the "verbs".
    -   `lib/features/`: Contains all UI code, organized by feature (e.g., `auth`, `parent_dashboard`).
-   **State Management**: This project uses **`flutter_riverpod`**.
    -   **NEVER** use `setState` for anything other than local, ephemeral UI state (e.g., a text controller's value, an animation state).
    -   All application data (chores, children, user state) **must** be managed and exposed through a `Provider` (e.g., `FutureProvider`, `StateNotifierProvider`).
    -   Widgets should consume providers using `ref.watch()` in their `build` method.
    -   Actions (like saving a form) should be triggered by calling methods on a repository or notifier using `ref.read()`.
-   **Navigation**: This project uses **`go_router`**.
    -   All navigation should happen via `context.go('/path')` or `context.push('/path')`.
    -   Define routes in a central `app_router.dart` file.
    -   Use path parameters for IDs (e.g., `/child/:childId`).

### ‚úÖ Task Completion & Git Workflow

-   **Mark completed tasks in `TASK.md`** with a checkmark `[x]` immediately after successful testing.
-   **Commit After Each Task**: After completing a task from `TASK.md`, commit the changes with a clear, descriptive message referencing the task (e.g., "feat(auth): implement login screen - T2.4").

### üé® Style & Conventions

-   **Styling**: All styling should be done via the central `ThemeData` defined in `lib/core/theme/app_theme.dart`. Avoid hardcoding colors or text styles directly in widgets.
-   **Formatting**: Adhere to standard Dart formatting. Run `dart format .` before committing.
-   **Linting**: Follow rules from `analysis_options.yaml` (effective_dart).

### üß† AI Behavior Rules

-   **No Hallucinations**: **Never assume library names, function names, or file paths.** Use your tools to list directories and read files to confirm they exist before referencing them.
-   **Backend is Supabase**: Remember that the backend is **already built**. All data operations should be performed using the `supabase_flutter` client via the Repositories in `lib/data/repositories/`. Do not invent new API endpoints.
-   **Data Models are Immutable**: All data models in `lib/data/models/` are created with `freezed`. To "change" a model, you must create a new instance using the `.copyWith()` method.
-   **Provider Pattern**:
    -   A **Repository** class handles the *how* (making the Supabase API call).
    -   A **Provider** handles the *what* and *when* (exposing the repository and caching its data for the UI).
-   **Plan and Reflect**: Before writing a new widget or function, state your plan based on the principles above. After writing, confirm that it adheres to the project's architecture (e.g., "This uses `ref.watch` for data and calls a repository method for the action, as required").

# For all designs I ask you to make, have them be beautiful, not cookie cutter. Make webpages that are fully featured and worthy for production.

### ü§ñ MCP Server Usage

This project is configured to use several Model Context Protocol (MCP) servers to enhance the development workflow. Use them as follows:

-   **`filesystem`**: Use for all file system operations, such as reading, writing, listing, and creating files and directories. YOU MUST LIST_ALLOWED_DIRECTORIES BEFORE ACCESSING FILES. You may get confuesd by the lowercase "c" or upper case "C" in the C:// drive
-   **`git`**: Use for all Git-related tasks, including checking status, viewing diffs, creating branches, and committing changes.
-   **`dart`**: Use for Dart-specific code intelligence. This includes finding references, definitions, implementations, and analyzing code. USE FOR ALL DART CODE OPERATIONS.
-   **`brave-search`**: Use for general web searches when you need external information or documentation not available in the project.
-   **`context7`**: Use to fetch detailed, up-to-date documentation for specific libraries. Always resolve the library ID with `resolve-library-id` first.